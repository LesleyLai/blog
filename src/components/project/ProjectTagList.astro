---
import { getCurrentLanguage } from "@i18n/i18n";
import { PROJECT_BY_LANG } from "@content/projects";
import TagList from "../TagList.astro";

const lang = getCurrentLanguage(Astro);

const TagWithCountList = (() => {
  const array = Array.from(PROJECT_BY_LANG[lang].projectCountByTags);
  array.sort(([_tag1, a], [_tag2, b]) => b - a);
  return array.map(([tag, count]) => ({ id: tag, count }));
})();
---

<TagList tags={TagWithCountList} type="project" showall={`/${lang}/projects`} />
